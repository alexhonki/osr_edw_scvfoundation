<mvc:View controllerName="osr.scv.match.review.controller.Object" xmlns:mvc="sap.ui.core.mvc" xmlns:semantic="sap.m.semantic"
	xmlns:form="sap.ui.layout.form" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout">
	<semantic:FullscreenPage id="page" busy="{objectView>/busy}" busyIndicatorDelay="{objectView>/delay}" navButtonPress="onNavBack"
		showNavButton="true" title="{i18n>objectTitle}">
		<semantic:content>
			<ObjectHeader fullScreenOptimized="false" id="objectHeader" responsive="true" title="{NAME}" numberUnit="%"
				numberState="{ path: 'AVG_SCORE', formatter: '.formatter.scoreState' }" number="{AVG_SCORE}">
				<attributes>
					<!--<ObjectAttribute id="oaGroupId" title="Group ID" text="{ path: 'GROUP_ID' }"/>-->
					<ObjectAttribute id="oaEntityId" title="Entity ID" text="{ path: 'ENTITY_ID' }"/>
					<ObjectAttribute title="Source System" text="{ path: 'SOURCE_SYSTEM'}"/>
				</attributes>
				<statuses>
					<ObjectStatus  title="Strategy" text="{= ${STRATEGY_RESOLVED} }" state="{= ${STRATEGY_RESOLVED_STATUS} }" visible="true"/>
					<ObjectStatus  title="Action" text="{= ${ACTION_RESOLVED} }" state="{= ${STRATEGY_RESOLVED_STATUS} }" visible="true"/>
					<!--<ProgressIndicator percentValue="{UnitsInStock}" displayValue="{UnitsInStock}" showValue="true"
						state="{ path: 'UnitsInStock', formatter: '.formatter.quantityState'}"/>-->
				</statuses>
				<headerContainer>
					<IconTabBar id="itb1" selectedKey="key1" upperCase="true" expandable="false" class="sapUiResponsiveContentPadding">
						<items>
							<IconTabFilter text="Entity Info" key="key1">
								<content>
									<!--<Panel class="sapUiNoContentPadding" headerText="{i18n>ObjectSupplierTabTitle}">-->
									<!--<Panel class="sapUiNoContentPadding">
										<content>-->
									<Table id="detailsTable" fixedLayout="false" busyIndicatorDelay="{worklistView>/tableBusyDelay}" class="sapUiResponsiveMargin sapUiNoMarginTop" growing="true"
										growingScrollToLoad="true" noDataText="{worklistView>/tableNoDataText}" updateFinished="onAfterDetailsTableRendering" width="auto" mode="SingleSelectMaster" selectionChange="onPress"
										items="{ path: 'matchResults', sorter: { path: 'GROUP_ROW_COUNT', descending: false}}">
										<headerToolbar>
											<Toolbar>
												<Title id="tableDetailsHeader" text="Match Group Details"/>
												<ToolbarSpacer/>
												<Button id="acceptButton" type="Accept" text="Accept" press="onAccept"/>
												<Button id="rejectButton" type="Reject" text="Reject" press="onReject"/>
												<!--<Button id="promoteButton" type="Accept" text="Promote" enabled="{= ${STRATEGY_RESOLVED}.match('Review') ? true : false}" pressed="true"
													press="onPromote" visible="{= ${STRATEGY_RESOLVED}.match('Review') ? true : false}"/>
												<Button id="rejectButton" type="Reject" text="Reject" enabled="{= ${STRATEGY_RESOLVED}.match('Promote') ? true : false}" pressed="true"
													press="onReject" visible="{= ${STRATEGY_RESOLVED}.match('Promote') ? true : false}"/>-->
											</Toolbar>
										</headerToolbar>
										<columns>
											<Column>
												<Text text="#"/>
											</Column>
											<Column>
												<Text text="System"/>
											</Column>
											<Column>
												<Text text="System ID"/>
											</Column>
											<Column>
												<Text text="Date of Birth"/>
											</Column>
											<Column>
												<Text text="Last Name"/>
											</Column>
											<Column>
												<Text text="First Middle Name"/>
											</Column>
											<Column>
												<Text text="Address Number"/>
											</Column>
											<Column>
												<Text text="Country"/>
											</Column>
											<Column>
												<Text text="Region"/>
											</Column>
											<Column>
												<Text text="Postcode"/>
											</Column>
											<Column>
												<Text text="City"/>
											</Column>
											<Column>
												<Text text="Street"/>
											</Column>
											<Column>
												<Text text="Street Number"/>
											</Column>
											<Column>
												<Text text="Match Row"/>
											</Column>
										</columns>
										<items>
											<ColumnListItem type="Active">
												<cells>
													<Text text="{GROUP_ROW_COUNT}"/>
													<Text text="{SOURCE_SYSTEM}"/>
													<Text text="{SYSTEM_ID}"/>
													<Text text="{BIRTHDT}"/>
													<Text text="{LAST_NAME}"/>
													<Text text="{FIRST_MIDDLE_NAME}"/>
													<Text text="{ADDRNUMBER}"/>
													<Text text="{ADDRESS_COUNTRY}" />
													<Text text="{ADDRESS_REGION}"/>
													<Text text="{ADDRESS_POSTCODE}"/>
													<Text text="{ADDRESS_LOCALITY}"/>
													<Text text="{ADDRESS_PRIM_NAME}"/>
													<Text text="{ADDRESS_PRIM_NUMBER}"/>
													<Text text="{MATCH_ROW}"/>
												</cells>
											</ColumnListItem>
										</items>
									</Table>
									
									<Table id="detailsTable1" fixedLayout="false" busyIndicatorDelay="{worklistView>/tableBusyDelay}" class="sapUiResponsiveMargin sapUiNoMarginTop" growing="true"
										growingScrollToLoad="true" noDataText="No matches available for selected row" updateFinished="onAfterRendering" width="auto" 
										items="{ path: '/matchResultsDetailsRelatedParameters(I_MATCH_ROW=\'1\')/Results',  sorter: [{ path: 'POLICY_NAME', descending: true },{ path: 'SCORE', descending: false }]}">
										<headerToolbar>
											<Toolbar>
												<Title id="tableDetails1Header" text="Matching Rows"/>
												<ToolbarSpacer/>
											
											</Toolbar>
										</headerToolbar>
										<columns>
											<Column mergeDuplicates="true">
												<Text text="Policy Name"/>
											</Column>
											<Column>
												<Text text="Score"/>
											</Column>
											<Column>
												<Text text="System"/>
											</Column>
											<Column>
												<Text text="System ID"/>
											</Column>
											<Column>
												<Text text="Date of Birth"/>
											</Column>
											<Column >
												<Text text="Last Name"/>											
											</Column>
											<Column>
												<Text text="First Middle Name"/>
											</Column>
											<Column >
												<Text text="Address Number"/>
											</Column>
											<Column>
												<Text text="Country"/>
											</Column>
											<Column>
												<Text text="Region"/>
											</Column>
											<Column>
												<Text text="Postcode"/>
											</Column>
											<Column>
												<Text text="City"/>
											</Column>
											<Column >
												<Text text="Street"/>
											</Column>
											<Column>
												<Text text="Street Number"/>
											</Column>
											<Column>
												<Text text="Match Row"/>
											</Column>
										</columns>
										<items>
											<ColumnListItem>
												<cells>
													<Text text="{POLICY_NAME}"/>
													<ObjectNumber number="{SCORE}"  state="{ path: 'SCORE', formatter: '.formatter.matchState' }" />
													<Text text="{SOURCE_SYSTEM}"/>
													<Text text="{SYSTEM_ID}"/>
													<Text text="{BIRTHDT}"/>
													<Text text="{LAST_NAME}"/>
													<Text text="{FIRST_MIDDLE_NAME}"/>
													<Text text="{ADDRNUMBER}"/>
													<Text text="{ADDRESS_COUNTRY}" />
													<Text text="{ADDRESS_REGION}"/>
													<Text text="{ADDRESS_POSTCODE}"/>
													<Text text="{ADDRESS_LOCALITY}"/>
													<Text text="{ADDRESS_PRIM_NAME}"/>
													<Text text="{ADDRESS_PRIM_NUMBER}"/>
													
													<Text text="{MATCH_ROW}"/>
												</cells>
											</ColumnListItem>
										</items>
									</Table>
									<!--	</content>
									</Panel>-->
								</content>
							</IconTabFilter>
							<IconTabFilter text="Change Log" key="key2" visible="false">
								<content>
									<l:VerticalLayout class="sapUiContentPadding" width="100%">
										<l:content>
											<Table id="changeLogTable" busyIndicatorDelay="{worklistView>/tableBusyDelay}" class="sapUiResponsiveMargin sapUiNoMarginTop" growing="true"
												growingScrollToLoad="true" noDataText="{worklistView>/tableNoDataText}" updateFinished="onUpdateFinished" width="auto"
												items="{ path: 'matchAssessments', sorter: { path: 'TIMESTAMP', descending: true }}">
												<columns>
													<Column id="c111s" mergeDuplicates="true">
														<Text id="t111s" text="Strategy"/>
													</Column>
													<Column id="c222" mergeDuplicates="true">
														<Text id="t222" text="User ID"/>
													</Column>
													<Column id="c333">
														<Text id="t333" text="Timestamp"/>
													</Column>
													<Column id="c444">
														<Text id="t444" text="Code"/>
													</Column>
													<Column id="c555">
														<Text id="t555" text="Comment"/>
													</Column>
												</columns>
												<items>
													<ColumnListItem>
														<cells>
															<Text text="{STRATEGY}"/>
															<Text text="{USER}"/>
															<Text text="{path: 'TIMESTAMP', type: 'sap.ui.model.type.DateTime'}"/>
															<Text text="{CODE}"/>
															<Text text="{COMMENT}"/>
														</cells>
													</ColumnListItem>
												</items>
											</Table>
										</l:content>
									</l:VerticalLayout>
								</content>
							</IconTabFilter>
						</items>
					</IconTabBar>
				</headerContainer>
			</ObjectHeader>
		</semantic:content>
		<!--<semantic:sendEmailAction>
			<semantic:SendEmailAction id="shareEmail" press="onShareEmailPress"/>
		</semantic:sendEmailAction>-->
	</semantic:FullscreenPage>
</mvc:View>